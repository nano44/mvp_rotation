seed: 42
dates:
  start: "2005-01-31"
  end:   "2024-12-31"
data:
  source: master
  csv_folder: data/raw/sector_etf_prices_monthly.csv
  master_root: data/master
universe:
  sectors: ["XLY","XLP","XLE","XLF","XLV","XLI","XLB","XLK","XLU","XLRE","XLC"]  # 11 sectors (SPDR tickers)
portfolio:
  te_target_annual: 0.071       # ~5.5% tracking error target
  turnover_cap: 0.35            # 35% one-way cap per month
  smoothing_lambda: 0.30        # EMA on active weights
  crisis_vix_threshold: 35.0    # if VIX > 35, use lower lambda (0.1 inside code)
costs:
  one_way_bps: 2.0              # 2 bps per one-way trade (conservative)
evaluation:
  warmup_months: 36
  purge_months: 1
  embargo_months: 1
features:
  names:
    - mom_12_1
    - mom_6_1
    - mom_3_1
    - vol_12
    - vol_6
    - g_deg_wpos_36m
    - g_eigvec_wpos_36m
    - g_cluster_wpos_36m
    - cs_absdev_1m
  version: "v1.0.0"
model:
  # Rolling training window
  train_lookback_months: 84        # we’ll use L_t = min(this, available)
  min_lookback_months: 36          # skip if fewer than this many months
  # Time-decay (recency weighting)
  half_life_months: 12             # try 12; A/B with 18 and 0 later
  # Alpha selection (Ridge)
  alpha_grid: [0.001, 0.003, 0.01, 0.03, 0.1, 0.3, 1, 3, 10, 30, 100]
  selector_tail_months: 24
  selector_half_life_months: 12
  selector_metric: spearman_ic_median   # or: spearman_ic_mean
  alpha_improvement_min: 0.02           # ΔIC required to switch α
  alpha_ema_beta: 0.5                   # 0 disables EMA (log-α smoothing)
  alpha_tie_breaker: smallest_alpha     # or: simulate_turnover
  # Label & prediction hygiene
  label_winsor_pct: 0.01                # clip 1%/99% inside train window only
  prediction_transform: zscore          # or: rank

runtime:
  standardize_time_window: false        # our features are already x-sec z-scored
  turnover_eps: 0.005                   # “within ε of best selector” pool

report:
  bootstrap:
    B: 2000
    block_months: 24
risk:
  fallback_lookback: 36      # Hybrid: use this if a DB covariance month is missing
